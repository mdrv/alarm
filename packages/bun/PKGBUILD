# Maintainer (aarch64): mdrv
pkgname=bun
pkgver=1.3.9
pkgrel=1
pkgdesc="Incredibly fast JavaScript runtime, bundler, test runner, and package manager â€“ all in one"
arch=('aarch64')
url="https://bun.sh"
license=('MIT')
depends=('gcc-libs' 'glibc' 'icu' 'sqlite')
source=("bun-aarch64-$pkgver.zip::https://github.com/oven-sh/bun/releases/download/bun-v$pkgver/bun-linux-aarch64.zip")
sha256sums=('SKIP')

package() {
  install -Dm755 "$srcdir/bun-linux-aarch64/bun" "$pkgdir/usr/bin/bun"
  ln -vs /usr/bin/bun "$pkgdir/usr/bin/bunx"
  install -vDm644 -t "$pkgdir/usr/share/licenses/$pkgname" "$srcdir/bun-linux-aarch64/LICENSE.md"
  install -vDm644 "$srcdir/bun-linux-aarch64/completions/bun.bash" "$pkgdir/usr/share/bash-completion/completions/bun"
  install -vDm644 "$srcdir/bun-linux-aarch64/completions/bun.fish" "$pkgdir/usr/share/fish/vendor_completions.d/bun.fish"
  install -vDm644 "$srcdir/bun-linux-aarch64/completions/bun.zsh" "$pkgdir/usr/share/zsh/site-functions/_bun"
}
